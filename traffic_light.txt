;Semaforo 

		LIST p=16f84a

STATUS	EQU		0X03
PORTA	EQU		0X05
PORTB	EQU		0X06
TRISA	EQU		0X85
TRISB	EQU		0X86
CUENTA1	EQU		0X0C
CUENTA2	EQU		0X0D
CUENTA3	EQU		0X0E

		ORG		0X00
		
		BSF		STATUS,5

		BCF		TRISA,0
		BCF		TRISA,1
		BCF		TRISA,2
		BCF		TRISB,5
		BCF		TRISB,6
		BCF		TRISB,7
		
		BCF		STATUS,5
		CLRF	PORTA
		CLRF	PORTB
EMPIEZA	BSF		PORTA,0 ;PRENDE R1
		BSF		PORTB,7	;PRENDE	V2
		CALL 	RETARDO
	
		BCF		PORTB,7	;APAGA V2
		BSF		PORTB,6	;PRENDE A2
		CALL    RETARDO 
	
		BCF		PORTA,0	;SE APAGA R1
		BCF		PORTB,6	;SE APAGA A2
		BSF		PORTA,2	;SE PRENDE	V1
		BSF		PORTB,5	;SE PRENDE	R2
		CALL	RETARDO
	
	
		BCF		PORTA,2	;SE APAGA V1
		BSF		PORTA,1	;SE ENCIENDE A1
		CALL	RETARDO
	
		BCF		PORTA,1	;SE APAGA A1
		BCF		PORTB,5	;SE APAGA R1
		GOTO	EMPIEZA

RETARDO	MOVLW	0X3F
		MOVWF	CUENTA1
		MOVWF	CUENTA2
		MOVWF	CUENTA3
BUCLE	DECFSZ	CUENTA1
		GOTO	BUCLE
		MOVWF	CUENTA1
		DECFSZ	CUENTA2
		GOTO	BUCLE
		MOVWF	CUENTA2
		DECFSZ	CUENTA3
		GOTO	BUCLE
		MOVWF	CUENTA3
		RETURN
		
		
		END